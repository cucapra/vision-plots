<!DOCTYPE html>
<head>
  <title>CfV Visualizer</title>
  <meta charset="utf-8">

  <!-- Vega stuff. -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.js" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vega/2.6.5/vega.js" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-lite/1.3.1/vega-lite.js" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-embed/2.2.0/vega-embed.js" charset="utf-8"></script>

  <!-- Vega-Tooltip. -->
  <script src="//vega.github.io/datalib/datalib.min.js"></script>
  <script src="//vega.github.io/vega-tooltip/vg-tooltip.min.js"></script>
  <link rel="stylesheet" type="text/css" href="//vega.github.io/vega-tooltip/vg-tooltip.css">

  <style media="screen">
    /* Add space between vega-embed links  */
    .vega-actions a {
      margin-right: 5px;
    }
    .fig {
      float: left;
      margin-right: 1rem;
    }
    h2 {
      clear: both;
      margin-bottom: 0.5rem;
    }
    .fig h3 {
      margin: 0;
    }
  </style>
</head>
<body>
<h1>&ldquo;Cameras for Vision&rdquo; Data Visualizer</h1>

<!-- Plots will be drawn in these containers. -->
<h2>Including One Pipeline Stage</h2>
<div class="fig">
  <h3><a href="error-only.pdf">Absolute</a></h3>
  <div class="vis" data-vis="error-only.vl.json"></div>
</div>
<div class="fig">
  <h3><a href="error_norm-only.pdf">Normalized</a></h3>
  <div class="vis" data-vis="error_norm-only.vl.json"></div>
</div>
<div class="fig">
  <h3><a href="bars_error-only.pdf">Absolute (Bars)</a></h3>
  <div class="vis" data-vis="bars_error-only.vl.json"></div>
  <div class="vis" data-vis="byapp_error-only.vl.json"></div>
</div>
<div class="fig">
  <h3><a href="bars_error_norm-only.pdf">Normalized (Bars)</a></h3>
  <div class="vis" data-vis="bars_error_norm-only.vl.json"></div>
  <div class="vis" data-vis="byapp_error_norm-only.vl.json"></div>
</div>
<h2>Excluding One Pipeline Stage</h2>
<div class="fig">
  <h3><a href="error-skip.pdf">Absolute</a></h3>
  <div class="vis" data-vis="error-skip.vl.json"></div>
</div>
<div class="fig">
  <h3><a href="error_norm-skip.pdf">Normalized</a></h3>
  <div class="vis" data-vis="error_norm-skip.vl.json"></div>
</div>
<div class="fig">
  <h3><a href="bars_error-skip.pdf">Absolute (Bars)</a></h3>
  <div class="vis" data-vis="bars_error-skip.vl.json"></div>
  <div class="vis" data-vis="byapp_error-skip.vl.json"></div>
</div>
<div class="fig">
  <h3><a href="bars_error_norm-skip.pdf">Normalized (Bars)</a></h3>
  <div class="vis" data-vis="bars_error_norm-skip.vl.json"></div>
  <div class="vis" data-vis="byapp_error_norm-skip.vl.json"></div>
</div>
<h2>Proposed Pipelines</h2>
<div class="fig">
  <h3><a href="error-special.pdf">Absolute</a></h3>
  <div class="vis" data-vis="error-special.vl.json"></div>
</div>
<div class="fig">
  <h3><a href="error_norm-special.pdf">Normalized</a></h3>
  <div class="vis" data-vis="error_norm-special.vl.json"></div>
</div>
<div class="fig">
  <h3><a href="bars_error-special.pdf">Absolute (Bars)</a></h3>
  <div class="vis" data-vis="bars_error-special.vl.json"></div>
  <div class="vis" data-vis="byapp_error-special.vl.json"></div>
</div>
<div class="fig">
  <h3><a href="bars_error_norm-special.pdf">Normalized (Bars)</a></h3>
  <div class="vis" data-vis="bars_error_norm-special.vl.json"></div>
  <div class="vis" data-vis="byapp_error_norm-special.vl.json"></div>
</div>
<h2>Demosaicing Strategies (with Gamma Compression)</h2>
<div class="fig">
  <h3><a href="bars_error-demos_tm.pdf">Absolute (Bars)</a></h3>
  <div class="vis" data-vis="bars_error-demos_tm.vl.json"></div>
  <div class="vis" data-vis="byapp_error-demos_tm.vl.json"></div>
</div>
<div class="fig">
  <h3><a href="bars_error_norm-demos_tm.pdf">Normalized (Bars)</a></h3>
  <div class="vis" data-vis="bars_error_norm-demos_tm.vl.json"></div>
  <div class="vis" data-vis="byapp_error_norm-demos_tm.vl.json"></div>
</div>

<!-- For vega-tooltip. -->
<div id="vis-tooltip" class="vg-tooltip"></div>

<script>
var visblocks = document.querySelectorAll('.vis');
for (var i = 0; i < visblocks.length; ++i) {
  var visblock = visblocks[i];
  var url = visblock.dataset['vis'];

  vg.embed(visblock, {
    mode: "vega-lite",
    url: url,
    actions: false,
  }, function(error, result) {
    if (result) {
      vl.tooltip(result.view, result.spec);
      console.log(result.spec);
    }
  });
}
</script>
</body>
</html>
